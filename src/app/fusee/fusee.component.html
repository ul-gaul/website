<!-- HEADER -->
<app-header [backgroundImg]="'./assets/img/page-fusee/main-fusee-2024.webp'" [title]="('fusee.title' | translate)"></app-header>

<!--INTRODUCTION-->
<section class="section">
  <div class="container">
    <div class="row">
      <div class="title">
        <h5>
          {{ 'fusee.intro' | translate }}
        </h5>
      </div>
    </div>
  </div>
</section>

<!--SOUS-SYSTÈMES-->
<section class="section section-dark">
  <div class="container">
    <div class="title">
      <h2>
        {{ 'fusee.subsystems_title' | translate }}
      </h2>
    </div>
    <div class="row">
      <div class="title">
        <div>
          <aside class="img-right border">
            <img src="./assets/img/page-fusee/excelsior-liftoff.webp" alt="Excelsior! en vol" height="450">
          </aside>

          <h3>{{ 'fusee.aerostructure_title' | translate }}</h3><br>
          {{ 'fusee.aerostructure_text' | translate }}<br><br>

          <aside class="img-left border">
            <img src="./assets/img/page-fusee/launchpad-highv.webp" alt="High V au lancement" height="450">
          </aside>

          <h3>{{ 'fusee.avionique_title' | translate }}</h3><br>
          {{ 'fusee.avionique_text' | translate }}<br><br>

          <h3>{{ 'fusee.propulsion_title' | translate }}</h3><br>
          {{ 'fusee.propulsion_text' | translate }}<br><br>

          <h3>{{ 'fusee.payload_title' | translate }}</h3><br>
          {{ 'fusee.payload_text' | translate }}<br><br>
        </div>
      </div>
    </div>
  </div>
</section>

<!--ANCIENNES COMPÉTITIONS-->
<section class="section">
  <div class="container">
    <div class="title">
      <h2>
        {{ 'fusee.competitions_title' | translate }}
        <img src="./assets/img/page-fusee/logo-sac.webp" height="84" alt="Logo Spaceport America Cup">
        <img src="./assets/img/page-fusee/logo-lc.webp" height="84" alt="Logo Launch Canada">
      </h2>
    </div>

    <!-- layout: left = vignettes, right = détails -->
    <div class="row fusee-split">
      <div class="col-lg-8">
        <div class="grid fusee-grid">
          <div class="fusee-card" *ngFor="let r of rockets" (click)="selectRocket(r)" role="button" tabindex="0" [attr.aria-pressed]="selected?.id === r.id">
            <img class="fusee-img" [src]="r.image" [alt]="'Photo ' + r.name">
            <h6 class="fusee-text">
              {{ r.year }} - {{ r.competition ? r.competition : '' }}<br>
              {{ r.name }}
              <span class="text-muted small" *ngIf="r.ranking && r.ranking !== 'N/A'"> • #{{ r.ranking }}</span>
            </h6>
          </div>
        </div>
      </div>

      <div class="col-lg-4">
        <div id="fusee-details" class="fusee-details" *ngIf="selected && selected.showDetails" role="region" aria-labelledby="fusee-title">
          <h3 id="fusee-title">
            {{ selected.name }}
            <small class="text-muted">
              ({{ selected.year }}
              <span *ngIf="selected.category" class="fusee-category"> • {{ selected.category }}</span>
              <span *ngIf="selected.ranking && selected.ranking !== 'N/A'"> • #{{ selected.ranking }}</span>
              <span *ngIf="selected.altitude"> • {{ selected.altitude }}</span>)
            </small>
          </h3>

          <!-- Section Fusée -->
          <div class="spec-section mb-3">
            <h5 class="mb-2">{{ 'fusee.rocket_title' | translate }}</h5>
            <ul class="fusee-attrs list-unstyled">
              <li><span class="attr-label">{{ 'fusee.dimensions_title' | translate }}:</span> <span class="attr-value">{{ selected.specs?.fusee?.dimensions || '—' }}</span></li>
              <li><span class="attr-label">{{ 'fusee.materials_title' | translate }}:</span> <span class="attr-value">{{ selected.specs?.fusee?.materials || '—' }}</span></li>
              <li><span class="attr-label">{{ 'fusee.flight_title' | translate }}:</span> <span class="attr-value">{{ selected.specs?.fusee?.flight || '—' }}</span></li>
              <li><span class="attr-label">{{ 'fusee.motor_title' | translate }}:</span> <span class="attr-value">{{ selected.specs?.fusee?.motor || '—' }}</span></li>
              <li><span class="attr-label">{{ 'fusee.recovery_title' | translate }}:</span> <span class="attr-value">{{ selected.specs?.fusee?.recovery || '—' }}</span></li>
            </ul>
          </div>

          <!-- Section Avionique -->
          <div class="spec-section mb-3">
            <h5 class="mb-2">{{ 'fusee.avionique_title' | translate }}</h5>
            <ul class="fusee-attrs list-unstyled">
              <li><span class="attr-label">{{ 'fusee.avionique_ground' | translate }}:</span> <span class="attr-value">{{ selected.specs?.avionique?.ground || '—' }}</span></li>
              <li><span class="attr-label">{{ 'fusee.avionique_communication' | translate }}:</span> <span class="attr-value">{{ selected.specs?.avionique?.communication || '—' }}</span></li>
              <li><span class="attr-label">{{ 'fusee.avionique_sensors' | translate }}:</span> <span class="attr-value">{{ selected.specs?.avionique?.sensors || '—' }}</span></li>
              <li><span class="attr-label">{{ 'fusee.avionique_power' | translate }}:</span> <span class="attr-value">{{ selected.specs?.avionique?.power || '—' }}</span></li>
            </ul>
          </div>

          <!-- Section Payload -->
          <div class="spec-section">
            <h5 class="mb-2">{{ 'fusee.payload_title' | translate }}</h5>
            <p class="fusee-desc">{{ selected.specs?.payload?.text || selected.description || '—' }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>